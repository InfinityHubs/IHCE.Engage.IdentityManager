# GitVersion.yml
mode: ContinuousDeployment
next-version: 1.0.0
branches:
  main:
    tag: ''
    increment: Patch
    prevent-increment-of-merged-branch-version: true
    is-mainline: true
  develop:
    tag: beta
    increment: Minor
    track-merge-target: true
  feature:
    tag: '{BranchName}'  # Dynamically include branch name in version
    increment: Inherit
    pre-release-weight: 3000
    source-branches:
      - develop
      - main
  hotfix:
    tag: '{BranchName}'  # Dynamically include branch name in version
    increment: Patch
    pre-release-weight: 100
    source-branches:
      - main
      - release
  bugfix:
    tag: '{BranchName}'  # Dynamically include branch name in version
    increment: Patch
    pre-release-weight: 200
    source-branches:
      - develop
      - main
  release:
    tag: rc
    increment: None
    pre-release-weight: 1000
  support:
    tag: support
    increment: None

  # Catch-All for Other Branches
  '*':
    tag: '{BranchName}'  # Use branch name dynamically
    increment: Inherit
    pre-release-weight: 4000
    source-branches:
      - develop
      - main

ignore:
  sha: []  # List of commit SHAs to ignore during version calculation
merge-message-formats:
  - "Merge branch '{branch}'"
  - "Merge pull request #{id} from {branch}"

branch-name-config:
  replace:
    regex: '^(feature/|hotfix/|bugfix/|release/|support/|development/)'  # Remove common prefixes
    with: ''
  separator: '-'  # Use '-' to separate words in branch names
